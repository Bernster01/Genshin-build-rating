<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
	<title>Rate my build | Genshin impact</title>

	<link rel="icon" href="Characters/Paimon.png">
	</link>
	<script src="https://kit.fontawesome.com/7060ae4657.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="CSS/CSS.css">
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
	<script src="js/CreateCharacter.js"></script>
	<script src="js/WeaponScaling.js"></script>
	<script src="js/cookies.js"></script>
	<script src="js/Weapons.js"></script>
	<script src="js/ArtifactModel.js"></script>
	<script src="js/ArtifactGenerator.js"></script>
	<script src="js/Simulation.js"></script>

	<script src="js/LoadCharactersHtml.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
	<script src="js/CharacterCard.js"></script>
	<script defer src="js/Ui.js"></script>
	<script defer src="js/logic.js"></script>

	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
</head>


<body onload="LoadCharacters()">
	<div class="container" id="containerHelper">
		<div id="backgroundOverlay"></div>
		<div id="content">
			<header>

				<h1>Rate my build<h1>

			</header>
			<div class="content-container">
				<div>
					<h1>Select Character</h1>
				</div>

				<div id="LoadoutContainer">
					<div id="elementalResonanceContainer">
						<h2>Elemental Resonance</h2>


						<div class="elementalResonanceContainer">
							<div onclick="selectResonance('Pyro',this)">
								<img src="Elements/pyro.png" />
							</div>
							<div onclick="selectResonance('Hydro',this)">
								<img src="Elements/hydro.png" />
							</div>
							<div onclick="selectResonance('Anemo',this)">
								<img src="Elements/anemo.png" />
							</div>
							<div onclick="selectResonance('Geo',this)">
								<img src="Elements/geo.png" />
							</div>
							<div onclick="selectResonance('Electro',this)">
								<img src="Elements/electro.png" />
							</div>
							<div onclick="selectResonance('Dendro',this)">
								<img src="Elements/dendro.png" />
							</div>
							<div onclick="selectResonance('Cryo',this)">
								<img src="Elements/cryo.png" />
							</div>
						</div>
					</div>
					<div id="characterContainer">
						<div id="characterContainerUpper">
							<div id="weaponContainer">

							</div>
							<div id="talentContainer">

							</div>
							<div id="characterSelecting">
								<img alt="Select" src="Assets/Characters/Paimon/Character_Paimon_Portrait.webp"
									title="Select" id="SelectCharcterImg" onclick="switchDisplay(document.getElementById('CharacterBox'),'flex')"></img>




								<div class="CharacterBox" id="CharacterBox" style="display:none">
									<input type="text" id="characterSearch" placeholder="Search for a character..." onkeyup="searchCharacters(this.value)">
									<div id="characterIcons">
										<span id="noResults">Hm... seems nothing matched</span>
									</div>
								</div>





							</div>
							<div id="constellationContainer">

							</div>
						</div>
						<div id="artifactContainer">
							<div id="dragableArtifacts">
								<div class="artifact" id="flowerIcon">
									<img alt="Flower" src="Artifacts/None Flower.webp" title="Flower" id="Flower"></img>
									<span>Main stat</span>
									<div>

										<select id="Flower_mainstat">
											<option value="HPflat">HP</option>
										</select>
										<input type="number" id="Flower_mainstat_value" value="0" min="0" max="4780"
											step="1">
									</div>
									<span>Sub stats</span>
									<div>
										<select id="Flower_substat_1">
											<option value="none">None</option>
										</select>
										<input type="number" id="Flower_substat_1_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Flower_substat_2">
											<option value="none">None</option>
										</select>
										<input type="number" id="Flower_substat_2_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Flower_substat_3">
											<option value="none">None</option>
										</select>
										<input type="number" id="Flower_substat_3_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Flower_substat_4">
											<option value="none">None</option>
										</select>
										<input type="number" id="Flower_substat_4_value" value="0" min="0" max="4000"
											step="1">
									</div>

								</div>
								<div class="artifact" id="plumeIcon">
									<img alt="Plume" src="Artifacts/None Plume.webp" title="Plume" id="Plume"></img>
									<span>Main stat</span>
									<div>
										<select id="Plume_mainstat">
											<option value="Atkflat">ATK</option>
										</select>
										<input type="number" id="Plume_mainstat_value" value="0" min="0" max="4780"
											step="1">
									</div>
									<span>Sub stats</span>
									<div>
										<select id="Plume_substat_1">
											<option value="none">None</option>
										</select>
										<input type="number" id="Plume_substat_1_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Plume_substat_2">
											<option value="none">None</option>
										</select>
										<input type="number" id="Plume_substat_2_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Plume_substat_3">
											<option value="none">None</option>
										</select>
										<input type="number" id="Plume_substat_3_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Plume_substat_4">
											<option value="none">None</option>
										</select>
										<input type="number" id="Plume_substat_4_value" value="0" min="0" max="4000"
											step="1">
									</div>

								</div>
								<div class="artifact" id="sandsIcon">
									<img alt="Sands" src="Artifacts/None Sands.webp" title="Sands"
										id="sandsIconImg"></img>
									<span>Main stat</span>
									<div>
										<select id="Sands_mainstat">
											<option value="none">none</option>
										</select>
										<input type="number" id="Sands_mainstat_value" value="0" min="0" max="4780"
											step="1">
									</div>
									<span>Sub stats</span>
									<div>
										<select id="Sands_substat_1">
											<option value="none">None</option>
										</select>
										<input type="number" id="Sands_substat_1_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Sands_substat_2">
											<option value="none">None</option>
										</select>
										<input type="number" id="Sands_substat_2_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Sands_substat_3">
											<option value="none">None</option>
										</select>
										<input type="number" id="Sands_substat_3_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Sands_substat_4">
											<option value="none">None</option>
										</select>
										<input type="number" id="Sands_substat_4_value" value="0" min="0" max="4000"
											step="1">
									</div>
								</div>
								<div class="artifact" id="gobletIcon">
									<img alt="Goblet" src="Artifacts/None Goblet.webp" title="Goblet"
										id="gobletIconImg"></img>
									<span>Main stat</span>
									<div>
										<select id="Goblet_mainstat">
											<option value="none">none</option>
										</select>
										<input type="number" id="Goblet_mainstat_value" value="0" min="0" max="4780"
											step="1">
									</div>
									<span>Sub stats</span>
									<div>
										<select id="Goblet_substat_1">
											<option value="none">None</option>
										</select>
										<input type="number" id="Goblet_substat_1_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Goblet_substat_2">
											<option value="none">None</option>
										</select>
										<input type="number" id="Goblet_substat_2_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Goblet_substat_3">
											<option value="none">None</option>
										</select>
										<input type="number" id="Goblet_substat_3_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Goblet_substat_4">
											<option value="none">None</option>
										</select>
										<input type="number" id="Goblet_substat_4_value" value="0" min="0" max="4000"
											step="1">
									</div>

								</div>
								<div class="artifact" id="circletIcon">
									<img alt="Circlet" src="Artifacts/None Circlet.webp" title="Circlet"
										id="circletIconImg"></img>
									<span>Main stat</span>
									<div>
										<select id="Circlet_mainstat">
											<option value="none">none</option>
										</select>
										<input type="number" id="Circlet_mainstat_value" value="0" min="0" max="4780"
											step="1">
									</div>
									<span>Sub stats</span>
									<div>
										<select id="Circlet_substat_1">
											<option value="none">None</option>
										</select>
										<input type="number" id="Circlet_substat_1_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Circlet_substat_2">
											<option value="none">None</option>
										</select>
										<input type="number" id="Circlet_substat_2_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Circlet_substat_3">
											<option value="none">None</option>
										</select>
										<input type="number" id="Circlet_substat_3_value" value="0" min="0" max="4000"
											step="1">
									</div>
									<div>
										<select id="Circlet_substat_4">
											<option value="none">None</option>
										</select>
										<input type="number" id="Circlet_substat_4_value" value="0" min="0" max="4000"
											step="1">
									</div>

								</div>
							</div>
						</div>

					</div>
					
					<div id="supportingElementContainer">
						<h2>Supporting Element</h2>
						<div id="CurrentlySelectedSupportingElement"><span>Currently Selected: </span> <span
								id="SelectedSupportingElement"></span></div>

						<div class="supportingElementContainer" id="supportingElement">
							<div onclick="selectSupportingElement('Pyro',this)">
								<img src="Elements/pyro.png" />
								<span>Pyro</span>
							</div>
							<div onclick="selectSupportingElement('Hydro',this)">
								<img src="Elements/hydro.png" />
								<span>Hydro</span>
							</div>
							<div onclick="selectSupportingElement('Anemo',this)">
								<img src="Elements/anemo.png" />
								<span>Anemo</span>
							</div>
							<div onclick="selectSupportingElement('Electro',this)">
								<img src="Elements/electro.png" />
								<span>Electro</span>
							</div>
							<div onclick="selectSupportingElement('Dendro',this)">
								<img src="Elements/dendro.png" />
								<span>Dendro</span>
							</div>
							<div onclick="selectSupportingElement('Cryo',this)">
								<img src="Elements/cryo.png" />
								<span>Cryo</span>
							</div>
						</div>
					</div>
					<button class="generic-btn p1rem br2rem" onclick="userCharacter(this)" id="rate-button">Rate my
						build!</button>
				</div>
			</div>
			<div id="result-container">
				<div class="exit-btn generic-btn" onclick="closeCharacterCard()">
					<i class="fa-solid fa-x"></i>
				</div>

				<div id="result-container-container">

				</div>
				<div id="result-buttons">
					<div>
						<button class="generic-btn p1rem br2rem" onclick="save(currentCardData)">Save</button>
					</div>
					<div>
						<button class="generic-btn p1rem br2rem">More Details</button>
					</div>
				</div>
			</div>
		</div>
		<div id="saved-characters-cards-container">
			<div id="saved-characters-cards-btn" onclick="switchCharacterCardContainer()">
				<span class="noselect">Your characters</span>
			</div>
			<div id="saved-characters-cards-wrapper">

			</div>
		</div>
		<div id="delete-character-card-prompt-container"></div>
		<div id="result-container2">
			<div class="exit-btn generic-btn" onclick="closeCharacterCard2()">
				<i class="fa-solid fa-x"></i>
			</div>

			<div id="result-container-container2">

			</div>

		</div>
		<footer>

		</footer>
	</div>
	<script src="js/ElementalSkills.js"></script>
	<script src="js/ElementalBursts.js"></script>
	<script src="js/NumberGenerator.js"></script>
	<script src="js/Characters.js"></script>

	<script>
		function displayArtifact(element) {
			let parent = element.parentElement;
			let img = parent.querySelector('img');
			img.src = 'Artifacts/' + element.value + ' ' + img.id + '.webp';

		}
	</script>
	<script>
	
		let selectedCharacter = null;
		function selectCharacter(character) {
			document.getElementById('CharacterBox').style.display = 'none';
			let target = 	document.getElementById('SelectCharcterImg');
			target.src = AllCharacters[character.title].card;
			target.title = character.title;
			target.alt = character.title;
			selectedCharacter = character.title;
		}
		function selectWeapon(weapon) {
			let img = document.getElementById("SelectWeaponImg");
			let text = document.getElementById("SelectWeaponText");
			img.src = weapon.childNodes[1].src
			text.innerText = weapon.title;
			document.getElementById("Weapons").style.visibility = "hidden";
		}

		function displayCharcters() {
			var doc = document.getElementById("CharacterContainer");
			var loadoutContainer = document.getElementById("LoadoutContainer");

			if (doc.style.visibility == "hidden" || doc.style.hidden == "") {
				doc.style.visibility = "visible";
				document.getElementById('SelectCharcter').style.visibility = "hidden";


			}
			else {
				doc.style.visibility = "hidden"
				document.getElementById('SelectCharcter').style.visibility = "visible";

			}

		}
		function displayWeapons() {
			let doc = document.getElementById("Weapons");
			doc.style.visibility = "Visible";
		}
		function closeCharacterCard() {
			let doc = document.getElementById("result-container");
			doc.style.transform = "translate(-50%,50%) scale(0.1)";
			setTimeout(function () {
				doc.style.display = "none";
			}, 500);
		}
		let characterCardOnHover = document.getElementById("saved-characters-cards-btn");
		characterCardOnHover.addEventListener("mouseenter", function () {
			if (!characterCardContainerIsOpen) {
				let characterCardWrapper = document.getElementById("saved-characters-cards-wrapper");
				characterCardWrapper.style.boxShadow = " 2px 0px 64px 1px"
				let characterCardContainer = document.getElementById("saved-characters-cards-container");
				characterCardContainer.style.transform = "translateY(80%)";
			}
		});
		characterCardOnHover.addEventListener("mouseleave", function () {
			if (!characterCardContainerIsOpen) {
				let characterCardWrapper = document.getElementById("saved-characters-cards-wrapper");
				characterCardWrapper.style.boxShadow = " 0px 0px 0px 0px"
				let characterCardContainer = document.getElementById("saved-characters-cards-container");
				characterCardContainer.style.transform = "translateY(88%)";
			}
		});
		let characterCardContainerIsOpen = false;
	</script>

	<script src="js/EventListener.js"> </script>
</body>

</html>