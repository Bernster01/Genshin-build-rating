<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Gacha build rating - Genshin impact</title>
	<link rel="icon" href="Assets/Icons/Element_Geo.svg">
	<script src="https://kit.fontawesome.com/7060ae4657.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="CSS/CSS.css">
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
	<script src="js/WeaponScaling.js"></script>
	<script src="js/cookies.js"></script>
	<script src="js/Weapons.js"></script>
	<script src="js/ArtifactModel.js"></script>
	<script src="js/ArtifactGenerator.js"></script>
	<script src="js/Simulation.js"></script>
	<script src="js/Ui.js"></script>
	<script defer src="js/LoadCharactersHtml.js"></script>
	<script src="js/CharacterCard.js"></script>
	<script src="js/logic.js"></script>
	<script defer src="js/version.js"></script>

</head>

<body onload="LoadCharacters()">
	<div class="container" id="containerHelper">
		<div id="backgroundOverlay"></div>
		<div id="content">
			<header>
				<h1>Gacha build rating</h1>
				<h2>- Genshin Impact -</h2>
				<h3 id="version"></h3>
				<p> - Site is still under development - </p>
			</header>
			<section id="about">
				<h2>Info</h2>
				<p>
					This site will grade your build based on the character, weapon and artifacts you have selected.
					Do not take the results too seriously, it should be more of a guideline as this site have simplified
					the calculations and is not
					100% accurate.
					<br>
					<br>
					<b>How to use:</b>
					<br>
					1. Select a character by clicking on the character image.
					<br>
					2. Select a weapon by clicking on the weapon image.
					<br>
					3. Set the level of the character and weapon.
					<br>
					4. Set the level of the talents.
					<br>
					5. Input the main stat and substats of the artifacts.
					<br>
					6. Select the elemental resonance.
					<br>
					7. Select the onfield element. (Currently only supports one element so combos like quickbloom is not
					supported)
					<br>
					8. Change settings if needed.
					<br>
					9. Click on the "Simulate"/"Submit" button. (More simulation runs = more accurate result)
					<br>

				</p>
			</section>
			<div class="content-container">


				<div id="LoadoutContainer">
					<div id="characterContainer">
						<div id="characterContainerUpper">
							<div id="weaponContainer">
								<figure id="weapon_figure">
									<img alt="Select" src="Assets/Weapons/Icon_Sword.png" title="Select"
										id="SelectWeaponImg"
										onclick="switchDisplay(document.getElementById('weaponBox'),'flex')">
								</figure>
								<div class="SelectBox" id="weaponBox" style="display:none">
									<input type="text" class="text-input" id="weaponSearch"
										placeholder="Search for a character..." onkeyup="searchWeapons(this.value)">
									<div class="characterIcons" id="weaponIcons">
										<span id="noWeaponResults">Hm... seems nothing matched</span>
										<span id="noCharacterSelected">Please select a character first</span>
									</div>
								</div>
								<div class="weapon_Stats">
									<p id="weapon_name">Weapon</p>
									<select class="select" id="weapon_level">
										<option value="1b">Level 1</option>
										<option value="20b">Level 20/20</option>
										<option value="20a">Level 20/40</option>
										<option value="40b">Level 40/40</option>
										<option value="40a">Level 40/50</option>
										<option value="50b">Level 50/50</option>
										<option value="50a">Level 50/60</option>
										<option value="60b">Level 60/60</option>
										<option value="60a">Level 60/70</option>
										<option value="70b">Level 70/70</option>
										<option value="70a">Level 70/80</option>
										<option value="80b">Level 80/80</option>
										<option value="80a">Level 80/90</option>
										<option value="90b">Level 90/90</option>
									</select>
								</div>
							</div>
							<div id="characterSelecting">
								<img alt="Select" src="Assets/Characters/Paimon/Character_Paimon_Portrait.webp"
									title="Select" id="SelectCharcterImg"
									onclick="switchDisplay(document.getElementById('CharacterBox'),'flex')">
								<div class="SelectBox" id="CharacterBox" style="display:none">
									<input type="text" class="text-input" id="characterSearch"
										placeholder="Search for a character..." onkeyup="searchCharacters(this.value)">
									<div class="characterIcons" id="characterIcons">
										<span id="noResults">Hm... seems nothing matched</span>
									</div>
								</div>




							</div>
						</div>
						<div class="stat-container">
							<div id="character_level_container">
								<div>
									<label for="character_level">Character</label>
									<select class="select" id="character_level">
										<option value="1b">Level 1</option>
										<option value="20b">Level 20/20</option>
										<option value="20a">Level 20/40</option>
										<option value="40b">Level 40/40</option>
										<option value="40a">Level 40/50</option>
										<option value="50b">Level 50/50</option>
										<option value="50a">Level 50/60</option>
										<option value="60b">Level 60/60</option>
										<option value="60a">Level 60/70</option>
										<option value="70b">Level 70/70</option>
										<option value="70a">Level 70/80</option>
										<option value="80b">Level 80/80</option>
										<option value="80a">Level 80/90</option>
										<option value="90b">Level 90/90</option>
									</select>
								</div>
								<div>
									<label for="constellation">Constellation</label>
									<select class="select" id="constellation">
										<option value="0">C0</option>
										<option value="1">C1</option>
										<option value="2">C2</option>
										<option value="3">C3</option>
										<option value="4">C4</option>
										<option value="5">C5</option>
										<option value="6">C6</option>
									</select>
								</div>
							</div>
							<div id="talent_level">

								<div>
									<label for="normal_attack">Normal Attack</label>
									<select class="select" id="normal_attack">
										<option value="1">Level 1</option>
										<option value="2">Level 2</option>
										<option value="3">Level 3</option>
										<option value="4">Level 4</option>
										<option value="5">Level 5</option>
										<option value="6">Level 6</option>
										<option value="7">Level 7</option>
										<option value="8">Level 8</option>
										<option value="9">Level 9</option>
										<option value="10">Level 10</option>
									</select>
								</div>
								<div>
									<label for="talent_skill">Elemental Skill</label>
									<select class="select" id="talent_skill">
										<option value="1">Level 1</option>
										<option value="2">Level 2</option>
										<option value="3">Level 3</option>
										<option value="4">Level 4</option>
										<option value="5">Level 5</option>
										<option value="6">Level 6</option>
										<option value="7">Level 7</option>
										<option value="8">Level 8</option>
										<option value="9">Level 9</option>
										<option value="10">Level 10</option>
										<option value="11">Level 11</option>
										<option value="12">Level 12</option>
										<option value="13">Level 13</option>
									</select>
								</div>
								<div>
									<label for="talent_burst">Elemental Burst</label>
									<select class="select" id="talent_burst">
										<option value="1">Level 1</option>
										<option value="2">Level 2</option>
										<option value="3">Level 3</option>
										<option value="4">Level 4</option>
										<option value="5">Level 5</option>
										<option value="6">Level 6</option>
										<option value="7">Level 7</option>
										<option value="8">Level 8</option>
										<option value="9">Level 9</option>
										<option value="10">Level 10</option>
										<option value="11">Level 11</option>
										<option value="12">Level 12</option>
										<option value="13">Level 13</option>
									</select>
								</div>
							</div>

						</div>
						<div id="artifactContainer">
							<div class="artifact" id="flower">
								<div class="artifact-left" id="flower_set">
									<div class="artifactSetList" id="flowerSetList" style="display: none;"></div>
									<div class="artifact_img_gradient"
										onclick="stopPropagation(), showHide('flowerSetList','flex'),addEventlistenerArtifactList('flowerSetList')">
									</div>
									<div class="mainstat">
										<img class="artifact_icon"
											onclick="showHide('flowerMainstatList'),stopPropagation(),addEventlistenerArtifactList('flowerMainstatList')"
											src="Assets/Icons/empty.png" title="To be set" id="flower_mainstat_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="flower_mainstat_value">0</span>
										<span id="flower_mainstat_percentIcon"></span>
										<div class="artifactStatsList" id="flowerMainstatList" style="display: none;">

										</div>
									</div>
								</div>
								<div class="artifact-right">
									<div class="substat" id="flower_substat_1">
										<img class="artifact_icon"
											onclick="showHide('flowerSubstat1List'),stopPropagation(),addEventlistenerArtifactList('flowerSubstat1List')"
											src="Assets/Icons/empty.png" title="To be set" alt="HP%"
											id="flower_substat_1_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="flower_substat_1_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="flowerSubstat1List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="flower_substat_2">
										<img class="artifact_icon"
											onclick="showHide('flowerSubstat2List'),stopPropagation(),addEventlistenerArtifactList('flowerSubstat2List')"
											src="Assets/Icons/empty.png" title="To be set" alt="HP%"
											id="flower_substat_2_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="flower_substat_2_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="flowerSubstat2List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="flower_substat_3">
										<img class="artifact_icon"
											onclick="showHide('flowerSubstat3List'),stopPropagation(),addEventlistenerArtifactList('flowerSubstat3List')"
											src="Assets/Icons/empty.png" title="To be set" alt="HP%"
											id="flower_substat_3_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="flower_substat_3_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="flowerSubstat3List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="flower_substat_4">
										<img class="artifact_icon"
											onclick="showHide('flowerSubstat4List'),stopPropagation(),addEventlistenerArtifactList('flowerSubstat4List')"
											src="Assets/Icons/empty.png" title="To be set" alt="HP%"
											id="flower_substat_4_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="flower_substat_4_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="flowerSubstat4List" style="display: none;">

										</div>
									</div>
								</div>
							</div>
							<div class="artifact" id="plume">
								<div class="artifact-left" id="plume_set">
									<div class="artifactSetList" id="plumeSetList" style="display: none;"></div>
									<div class="artifact_img_gradient"
										onclick="stopPropagation(), showHide('plumeSetList','flex'),addEventlistenerArtifactList('plumeSetList')">

									</div>
									<div class="mainstat">
										<img class="artifact_icon"
											onclick="showHide('plumeMainstatList'),stopPropagation(),addEventlistenerArtifactList('plumeMainstatList')"
											src="Assets/Icons/empty.png" title="To be set" id="plume_mainstat_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="plume_mainstat_value">0</span>
										<span id="plume_mainstat_percentIcon"></span>
										<div class="artifactStatsList" id="plumeMainstatList" style="display: none;">

										</div>
									</div>


								</div>
								<div class="artifact-right">
									<div class="substat" id="plume_substat_1">
										<img class="artifact_icon"
											onclick="showHide('plumeSubstat1List'),stopPropagation(),addEventlistenerArtifactList('plumeSubstat1List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="plume_substat_1_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="plume_substat_1_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="plumeSubstat1List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="plume_substat_2">
										<img class="artifact_icon"
											onclick="showHide('plumeSubstat2List'),stopPropagation(),addEventlistenerArtifactList('plumeSubstat2List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="plume_substat_2_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="plume_substat_2_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="plumeSubstat2List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="plume_substat_3">
										<img class="artifact_icon"
											onclick="showHide('plumeSubstat3List'),stopPropagation(),addEventlistenerArtifactList('plumeSubstat3List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="plume_substat_3_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="plume_substat_3_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="plumeSubstat3List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="plume_substat_4">
										<img class="artifact_icon"
											onclick="showHide('plumeSubstat4List'),stopPropagation(),addEventlistenerArtifactList('plumeSubstat4List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="plume_substat_4_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="plume_substat_4_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="plumeSubstat4List" style="display: none;">

										</div>
									</div>
								</div>
							</div>
							<div class="artifact" id="sands">
								<div class="artifact-left" id="sands_set">
									<div class="artifactSetList" id="sandsSetList" style="display: none;"></div>
									<div class="artifact_img_gradient"
										onclick="stopPropagation(), showHide('sandsSetList','flex'),addEventlistenerArtifactList('sandsSetList')">

									</div>
									<div class="mainstat">
										<img class="artifact_icon"
											onclick="showHide('sandsMainstatList'),stopPropagation(),addEventlistenerArtifactList('sandsMainstatList')"
											src="Assets/Icons/empty.png" title="To be set" id="sands_mainstat_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="sands_mainstat_value">0</span>
										<span id="sands_mainstat_percentIcon">%</span>
										<div class="artifactStatsList" id="sandsMainstatList" style="display: none;">

										</div>
									</div>


								</div>
								<div class="artifact-right">
									<div class="substat" id="sands_substat_1">
										<img class="artifact_icon"
											onclick="showHide('sandsSubstat1List'),stopPropagation(),addEventlistenerArtifactList('sandsSubstat1List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="sands_substat_1_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="sands_substat_1_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="sandsSubstat1List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="sands_substat_2">
										<img class="artifact_icon"
											onclick="showHide('sandsSubstat2List'),stopPropagation(),addEventlistenerArtifactList('sandsSubstat2List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="sands_substat_2_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="sands_substat_2_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="sandsSubstat2List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="sands_substat_3">
										<img class="artifact_icon"
											onclick="showHide('sandsSubstat3List'),stopPropagation(),addEventlistenerArtifactList('sandsSubstat3List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="sands_substat_3_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="sands_substat_3_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="sandsSubstat3List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="sands_substat_4">
										<img class="artifact_icon"
											onclick="showHide('sandsSubstat4List'),stopPropagation(),addEventlistenerArtifactList('sandsSubstat4List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="sands_substat_4_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="sands_substat_4_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="sandsSubstat4List" style="display: none;">

										</div>
									</div>
								</div>
							</div>
							<div class="artifact" id="goblet">
								<div class="artifact-left" id="goblet_set">
									<div class="artifactSetList" id="gobletSetList" style="display: none;"></div>
									<div class="artifact_img_gradient"
										onclick="stopPropagation(), showHide('gobletSetList','flex'),addEventlistenerArtifactList('gobletSetList')">

									</div>
									<div class="mainstat">
										<img class="artifact_icon"
											onclick="showHide('gobletMainstatList'),stopPropagation(),addEventlistenerArtifactList('gobletMainstatList')"
											src="Assets/Icons/empty.png" title="To be set" id="goblet_mainstat_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="goblet_mainstat_value">0</span>
										<span id="goblet_mainstat_percentIcon">%</span>
										<div class="artifactStatsList" id="gobletMainstatList" style="display: none;">

										</div>
									</div>


								</div>
								<div class="artifact-right">
									<div class="substat" id="goblet_substat_1">
										<img class="artifact_icon"
											onclick="showHide('gobletSubstat1List'),stopPropagation(),addEventlistenerArtifactList('gobletSubstat1List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="goblet_substat_1_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="goblet_substat_1_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="gobletSubstat1List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="goblet_substat_2">
										<img class="artifact_icon"
											onclick="showHide('gobletSubstat2List'),stopPropagation(),addEventlistenerArtifactList('gobletSubstat2List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="goblet_substat_2_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="goblet_substat_2_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="gobletSubstat2List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="goblet_substat_3">
										<img class="artifact_icon"
											onclick="showHide('gobletSubstat3List'),stopPropagation(),addEventlistenerArtifactList('gobletSubstat3List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="goblet_substat_3_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="goblet_substat_3_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="gobletSubstat3List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="goblet_substat_4">
										<img class="artifact_icon"
											onclick="showHide('gobletSubstat4List'),stopPropagation(),addEventlistenerArtifactList('gobletSubstat4List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="goblet_substat_4_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="goblet_substat_4_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="gobletSubstat4List" style="display: none;">

										</div>
									</div>
								</div>
							</div>
							<div class="artifact" id="circlet">
								<div class="artifact-left" id="circlet_set">
									<div class="artifactSetList" id="circletSetList" style="display: none;"></div>
									<div class="artifact_img_gradient"
										onclick="stopPropagation(), showHide('circletSetList','flex'),addEventlistenerArtifactList('circletSetList')">
									</div>
									<div class="mainstat">
										<img class="artifact_icon"
											onclick="showHide('circletMainstatList'),stopPropagation(),addEventlistenerArtifactList('circletMainstatList')"
											src="Assets/Icons/empty.png" title="To be set" id="circlet_mainstat_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="circlet_mainstat_value">0</span>
										<span id="circlet_mainstat_percentIcon">%</span>
										<div class="artifactStatsList" id="circletMainstatList" style="display: none;">

										</div>

									</div>
								</div>

								<div class="artifact-right">
									<div class="substat" id="circlet_substat_1">
										<img class="artifact_icon"
											onclick="showHide('circletSubstat1List'),stopPropagation(),addEventlistenerArtifactList('circletSubstat1List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="circlet_substat_1_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="circlet_substat_1_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="circletSubstat1List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="circlet_substat_2">
										<img class="artifact_icon"
											onclick="showHide('circletSubstat2List'),stopPropagation(),addEventlistenerArtifactList('circletSubstat2List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="circlet_substat_2_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="circlet_substat_2_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="circletSubstat2List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="circlet_substat_3">
										<img class="artifact_icon"
											onclick="showHide('circletSubstat3List'),stopPropagation(),addEventlistenerArtifactList('circletSubstat3List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="circlet_substat_3_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="circlet_substat_3_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="circletSubstat3List" style="display: none;">

										</div>
									</div>
									<div class="substat" id="circlet_substat_4">
										<img class="artifact_icon"
											onclick="showHide('circletSubstat4List'),stopPropagation(),addEventlistenerArtifactList('circletSubstat4List')"
											src="Assets/Icons/empty.png" title="To be set" alt="Empty icon"
											id="circlet_substat_4_type">
										<span contenteditable="" onclick="UpdateArtifact(this,true)"
											onkeyup="UpdateArtifact(this,false)" onblur="UpdateArtifact(this,false)"
											id="circlet_substat_4_value">0</span>
										<span class="artifact_percent">%</span>
										<div class="artifactStatsList" id="circletSubstat4List" style="display: none;">

										</div>
									</div>
								</div>
							</div>
						</div>


						<div id="elementalResonanceContainer">
							<h2>Elemental Resonance</h2>


							<div class="elementalResonanceContainer">
								<div onclick="selectResonance('Pyro',this)">
									<img src="Elements/pyro.png" alt="Pyro elemental resonance">
								</div>
								<div onclick="selectResonance('Hydro',this)">
									<img src="Elements/hydro.png" alt="Hydro elemental resonance">
								</div>
								<div onclick="selectResonance('Anemo',this)">
									<img src="Elements/anemo.png" alt="Anemo elemental resonance">
								</div>
								<div onclick="selectResonance('Geo',this)">
									<img src="Elements/geo.png" alt="Geo elemental resonance">
								</div>
								<div onclick="selectResonance('Electro',this)">
									<img src="Elements/electro.png" alt="Electro elemental resonance">
								</div>
								<div onclick="selectResonance('Dendro',this)">
									<img src="Elements/dendro.png" alt="Dendro elemental resonance">
								</div>
								<div onclick="selectResonance('Cryo',this)">
									<img src="Elements/cryo.png" alt="Cryo elemental resonance">
								</div>
							</div>
						</div>
						<div id="supportingElementContainer">
							<h2>Onfield Element</h2>
							<div id="CurrentlySelectedSupportingElement"><span>Currently Selected: </span> <span
									id="SelectedSupportingElement"></span></div>

							<div class="supportingElementContainer" id="supportingElement">
								<div onclick="selectSupportingElement('Pyro',this)" class="selectableSupportingElement">
									<img src="Elements/pyro.png" alt="Pyro">
									<span>Pyro</span>
								</div>
								<div onclick="selectSupportingElement('Hydro',this)"
									class="selectableSupportingElement">
									<img src="Elements/hydro.png" alt="Hydro">
									<span>Hydro</span>
								</div>
								<div onclick="selectSupportingElement('Anemo',this)"
									class="selectableSupportingElement">
									<img src="Elements/anemo.png" alt="Anemo">
									<span>Anemo</span>
								</div>
								<div onclick="selectSupportingElement('Electro',this)"
									class="selectableSupportingElement">
									<img src="Elements/electro.png" alt="Electro">
									<span>Electro</span>
								</div>
								<div onclick="selectSupportingElement('Dendro',this)"
									class="selectableSupportingElement">
									<img src="Elements/dendro.png" alt="Dendro">
									<span>Dendro</span>
								</div>
								<div onclick="selectSupportingElement('Cryo',this)" class="selectableSupportingElement">
									<img src="Elements/cryo.png" alt="Cryo">
									<span>Cryo</span>
								</div>
								<div onclick="selectSupportingElement('Bloom',this)"
									class="selectableSupportingElement">
									<img src="Elements/Bloom.png" alt="Bloom">
									<span>Bloom</span>
								</div>
							</div>
						</div>
						<section id="simulation_settings">
							<h3>Settings</h3>
							<div>
								<label for="role">Role</label>
								<select class="select" id="roleInput">
									<option value="1">On-field DPS</option>
									<option value="2">Support (incl. Sub-dps)</option>
								</select>
							</div>
							<div>
								<h3>What elements does the party members have?</h3>
								<div id="partySelection">
									<div>
										<label for="partyMemberElement1">Party member 1</label>
										<select id="partyMemberElement1">
											<option value="">No specific</option>
											<option value="PyroCharacter">Pyro</option>
											<option value="HydroCharacter">Hydro</option>
											<option value="AnemoCharacter">Anemo</option>
											<option value="GeoCharacter">Geo</option>
											<option value="ElectroCharacter">Electro</option>
											<option value="DendroCharacter">Dendro</option>
											<option value="CryoCharacter">Cryo</option>
										</select>
									</div>
									<div>
										<label for="partyMemberElement2">Party member 2</label>
										<select id="partyMemberElement2">
											<option value="">No specific</option>
											<option value="PyroCharacter">Pyro</option>
											<option value="HydroCharacter">Hydro</option>
											<option value="AnemoCharacter">Anemo</option>
											<option value="GeoCharacter">Geo</option>
											<option value="ElectroCharacter">Electro</option>
											<option value="DendroCharacter">Dendro</option>
											<option value="CryoCharacter">Cryo</option>
										</select>
									</div>
									<div>
										<label for="partyMemberElement3">Party member 3</label>
										<select id="partyMemberElement3">
											<option value="">No specific</option>
											<option value="PyroCharacter">Pyro</option>
											<option value="HydroCharacter">Hydro</option>
											<option value="AnemoCharacter">Anemo</option>
											<option value="GeoCharacter">Geo</option>
											<option value="ElectroCharacter">Electro</option>
											<option value="DendroCharacter">Dendro</option>
											<option value="CryoCharacter">Cryo</option>
										</select>
									</div>
								</div>
							</div>
							<div>
								<label for="hasDeepwoodInParty" id="deepwoodLabel">Does your party have deepwood
									equiped?</label>
								<input type="checkbox" id="hasDeepwoodInParty">
							</div>
							<div>
								<label for="partyGivesShield" id="partyGivesShieldLabel">Does your party generate
									shields?</label>
								<input type="checkbox" id="partyGivesShield">
							</div>


							<label for="simulationRuns">Simulation Runs</label>
							<input type="number" id="simulationRuns" placeholder="default 25">
					</div>
					</section>

					<button onclick="prepare(this)" id="rate-button"></button>
				</div>
				<aside class="changelog">
					<article>
						<header>
							<h2>Changelog</h2>
						</header>
						<div id="changelog">

						</div>
					</article>
				</aside>
			</div>
			<div id="result-container-centerer">
				<div id="result-container">
					<div class="exit-btn generic-btn" onclick="closeCharacterCard()">
						<i class="fa-solid fa-x"></i>
					</div>

					<div id="result-container-container">

					</div>
					<div id="result-buttons">
						<!-- <div>
								<button class="generic-btn p1rem br2rem" onclick="save(currentCardData)">Save</button>
							</div> -->
						<div>
							<button class="generic-btn p1rem br2rem detail-btn" onclick="sendBuild()">More
								Details</button>
						</div>
					</div>
				</div>
			</div>

		</div>

		<div id="saved-characters-cards-container">
			<div id="saved-characters-cards-btn" onclick="switchCharacterCardContainer()">
				<span class="noselect">Your characters</span>
			</div>
			<div id="saved-characters-cards-wrapper">

			</div>
		</div>
		<div id="delete-character-card-prompt-container"></div>
		<div id="result-container2">
			<div class="exit-btn generic-btn" onclick="closeCharacterCard2()">
				<i class="fa-solid fa-x"></i>
			</div>

			<div id="result-container-container2">

			</div>
		</div>

		<footer>
			<p>Â© HoYoverse. All rights reserved. HoYoverse and Genshin Impact are trademarks, services marks, or
				registered trademarks of HoYoverse.</p>
			<p><a href="https://www.flaticon.com/free-icons/empty" title="empty icons">Empty icons created by Freepik -
					Flaticon</a></p>
		</footer>
	</div>
	</div>
	<div id="simRunScreen">
		<div class="sim-running-box">
			<p>Simulating... Run: <span id="currentSimRun"></span>/<span id="howManySimRuns"></span> (<span
					id="percentDone"></span>%)</p>
			<div id="loadingPaimon-wrapper">
				<div id="loadingPaimon-container">
					<figure id="loadingPaimon">
						<img src="Assets/Characters/Paimon/Icon_3.webp" alt="Paimon riding a beast">
					</figure>
				</div>
			</div>
			<div class="sim-progress-bar">
				<div id="simProgressBar"></div>
			</div>
			<p>Estimated time left: <span id="timeLeft"></span></p>
			<button id="endEarlyBtn">End early</button>
		</div>
	</div>
	<script src="js/ElementalSkills.js"></script>
	<script src="js/ElementalBursts.js"></script>
	<script src="js/Math.js"></script>
	<script src="js/Characters.js"></script>
	<script src="js/SimulationTranslationLayer.js"></script>
	<script>
		function displayArtifact(element) {
			let parent = element.parentElement;
			let img = parent.querySelector('img');
			img.src = 'Artifacts/' + element.value + ' ' + img.id + '.webp';
		}
	</script>
	<script>
		let selectedCharacter = "none";
		function selectCharacter(character) {
			document.getElementById('CharacterBox').style.display = 'none';
			let target = document.getElementById('SelectCharcterImg');
			target.src = AllCharacters[character.title].card;
			target.title = character.title;
			target.alt = character.title;
			selectedCharacter = character.title;
			loadWeapons(character.title);
			//set weapon to default
			resetWeaponToDeafault();
			switch (target.title) {
				case "Tartaglia":
					//Increase options for normal attack
					const selectT = document.getElementById("normal_attack");
					const option11_tartaglia = document.createElement("option");
					option11_tartaglia.text = "Level 11";
					option11_tartaglia.value = 11;
					selectT.add(option11_tartaglia);
					break;
				case "Arlecchino":
					//Increase options for normal attack
					const select = document.getElementById("normal_attack");
					const option11 = document.createElement("option");
					option11.text = "Level 11";
					option11.value = 11;
					select.add(option11);
					const option12 = document.createElement("option");
					option12.text = "Level 12";
					option12.value = 12;
					select.add(option12);
					const option13 = document.createElement("option");
					option13.text = "Level 13";
					option13.value = 13;
					select.add(option13);
					break;
				default:
					//Reset options for normal attack to 10
					const select2 = document.getElementById("normal_attack");
					if(select2.length > 10){
						select2.innerHTML = `
										<option value="1">Level 1</option>
										<option value="2">Level 2</option>
										<option value="3">Level 3</option>
										<option value="4">Level 4</option>
										<option value="5">Level 5</option>
										<option value="6">Level 6</option>
										<option value="7">Level 7</option>
										<option value="8">Level 8</option>
										<option value="9">Level 9</option>
										<option value="10">Level 10</option>
					`;
					}
					

					break;
			}
		}
		function resetWeaponToDeafault() {
			let img = document.getElementById("SelectWeaponImg");
			img.src = "Assets/Weapons/Icon_Sword.png";
			img.title = "Weapon";
			img.alt = "Weapon";
			let background = document.getElementById('weapon_figure');
			background.style.backgroundImage = "";
			document.getElementById("weapon_name").innerText = "Weapon";
		}
		function selectWeapon(weapon) {
			let background = document.getElementById('weapon_figure');
			let img = document.getElementById("SelectWeaponImg");
			//Remove #text childs from weapon
			weapon.childNodes.forEach((child) => {
				if (child.nodeType == 3) {
					weapon.removeChild(child);
				}
			});

			img.src = weapon.childNodes[0].src
			img.title = weapon.childNodes[0].alt;
			img.alt = weapon.childNodes[0].alt;
			// console.log(weapon.childNodes[0]);
			background.style.backgroundImage = `url(Assets/Rarity_Backgrounds/Background_Item_${AllWeapons[weapon.childNodes[0].alt].rarity}_Star.webp)`;
			document.getElementById("weaponBox").style.display = "none";
			document.getElementById("weapon_name").innerText = weapon.childNodes[0].alt;

		}

		function displayCharcters() {
			var doc = document.getElementById("CharacterContainer");
			var loadoutContainer = document.getElementById("LoadoutContainer");

			if (doc.style.visibility == "hidden" || doc.style.hidden == "") {
				doc.style.visibility = "visible";
				document.getElementById('SelectCharcter').style.visibility = "hidden";


			}
			else {
				doc.style.visibility = "hidden"
				document.getElementById('SelectCharcter').style.visibility = "visible";

			}

		}
		function displayWeapons() {
			let doc = document.getElementById("Weapons");
			doc.style.visibility = "Visible";

		}
		function closeCharacterCard() {
			let doc = document.getElementById("result-container");
			doc.style.transform = "translate(0,100%) scale(0.1)";
			setTimeout(function () {
				doc.style.display = "none";
				document.getElementById("result-container-centerer").style.display = "none";
			}, 500);

		}
		let characterCardOnHover = document.getElementById("saved-characters-cards-btn");
		characterCardOnHover.addEventListener("mouseenter", function () {
			if (!characterCardContainerIsOpen) {
				let characterCardWrapper = document.getElementById("saved-characters-cards-wrapper");
				characterCardWrapper.style.boxShadow = " 2px 0px 64px 1px"
				let characterCardContainer = document.getElementById("saved-characters-cards-container");
				characterCardContainer.style.transform = "translateY(80%)";
			}
		});
		characterCardOnHover.addEventListener("mouseleave", function () {
			if (!characterCardContainerIsOpen) {
				let characterCardWrapper = document.getElementById("saved-characters-cards-wrapper");
				characterCardWrapper.style.boxShadow = " 0px 0px 0px 0px"
				let characterCardContainer = document.getElementById("saved-characters-cards-container");
				characterCardContainer.style.transform = "translateY(88%)";
			}
		});
		let characterCardContainerIsOpen = false;
	</script>

	<script src="js/EventListener.js"> </script>
	<script src="js/eval.js"></script>
	<script defer src="js/changelog.js"></script>
</body>

</html>